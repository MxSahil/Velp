<%- include("partials/header") %>
<div class="container">
  <h1 class="pageTitle">Add a New Game</h1>
  <form action="/games/<%= game._id %>?_method=PUT" method="POST">
    <div class="mt-3 form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" name="title" value="<%= game.title %>" required>
    </div>

    <div class="mt-3 form-group">
      <label for="description">Description</label>
      <textarea class="form-control" rows="3" name="description"><%= game.description %></textarea>
    </div>

    <div class="mt-3 form-group">
      <label for="image">Game Cover Link</label>
      <input type="text" class="form-control" name="image" value="<%= game.image %>" autofocus>
    </div>

    <div class="mt-3 form-group row">
      <div class="col">
        <label for="platforms">Platforms</label>
        <select class="custom-select" multiple name="platforms" size="5" value="<%= game.image %>">
          <option <%=game.platforms.includes("PC") ? "selected" : "" %> >PC</option>
          <option <%=game.platforms.includes("Playstation 5") ? "selected" : "" %> >Playstation 5</option>
          <option <%=game.platforms.includes("Xbox Series X") ? "selected" : "" %> >Xbox Series X</option>
          <option <%=game.platforms.includes("Playstation 4") ? "selected" : "" %> >Playstation 4</option>
          <option <%=game.platforms.includes("Xbox One") ? "selected" : "" %> >Xbox One</option>
          <option <%=game.platforms.includes("Playstation 3") ? "selected" : "" %> >Playstation 3</option>
          <option <%=game.platforms.includes("Xbox 360") ? "selected" : "" %> >Xbox 360</option>
        </select>
      </div>

      <div class="col">
        <label for="genres">Genres</label>
        <select class="custom-select" multiple name="genres" size="5">
          <option <%=game.genres.includes("Action") ? "selected" : "" %> >Action</option>
          <option <%=game.genres.includes("Adventure") ? "selected" : "" %> >Adventure</option>
          <option <%=game.genres.includes("RPG") ? "selected" : "" %> >RPG</option>
          <option <%=game.genres.includes("Fighting") ? "selected" : "" %> >Fighting</option>
          <option <%=game.genres.includes("Strategy") ? "selected" : "" %> >Strategy</option>
          <option <%=game.genres.includes("Shooter") ? "selected" : "" %> >Shooter</option>
          <option <%=game.genres.includes("Sport") ? "selected" : "" %> >Sport</option>
          <option <%=game.genres.includes("Racing") ? "selected" : "" %> >Racing</option>
          <option <%=game.genres.includes("Casual") ? "selected" : "" %> >Casual</option>
          <option <%=game.genres.includes("Simulation") ? "selected" : "" %> > Simulation</option>
          <option <%=game.genres.includes("Arcade") ? "selected" : "" %> >Arcade</option>
        </select>
      </div>
    </div>

    <div class="mt-3 form-group row">
      <div class="col">
        <label for="developers">Developers</label>
        <select class="custom-select" multiple name="developers" size="5">
          <option <%=game.developer.includes("Treyarch") ? "selected" : "" %> >Treyarch</option>
          <option <%=game.developer.includes("343 Industries") ? "selected" : "" %> >343 Industries</option>
          <option <%=game.developer.includes("Bungie") ? "selected" : "" %> >Bungie</option>
          <option <%=game.developer.includes("2K Sports") ? "selected" : "" %> >2K Sports</option>
          <option <%=game.developer.includes("Epic Games") ? "selected" : "" %> >Epic Games</option>
          <option <%=game.developer.includes("Electronic Arts") ? "selected" : "" %> >Electronic Arts</option>
          <option <%=game.developer.includes("Infinity Ward") ? "selected" : "" %> >Infinity Ward</option>
        </select>
      </div>

      <div class="col">
        <label for="publishers">Publishers</label>
        <select class="custom-select" multiple name="publishers" size="5">
          <option <%=game.publisher.includes("Activision Blizzard") ? "selected" : "" %>>Activision Blizzard</option>
          <option <%=game.publisher.includes("Microsoft") ? "selected" : "" %>>Microsoft</option>
          <option <%=game.publisher.includes("Sony") ? "selected" : "" %>>Sony</option>
          <option <%=game.publisher.includes("EA") ? "selected" : "" %>>EA</option>
          <option <%=game.publisher.includes("Google") ? "selected" : "" %>>Google</option>
          <option <%=game.publisher.includes("Nintendo") ? "selected" : "" %>>Nintendo</option>
          <option <%=game.publisher.includes("Sega") ? "selected" : "" %>>Sega</option>
          <option <%=game.publisher.includes("Tell-Tale Games") ? "selected" : "" %>>Tell-Tale Games</option>
          <option <%=game.publisher.includes("Valve Corporation") ? "selected" : "" %>>Valve Corporation</option>
          <option <%=game.publisher.includes("Ubisoft") ? "selected" : "" %>>Ubisoft</option>
          <option <%=game.publisher.includes("Bethesda Softworks") ? "selected" : "" %>>Bethesda Softworks</option>
        </select>
      </div>
    </div>

    <div class="mt-3 form-group row">
      <div class="col">
        <label for="esrb">ESRB Rating</label>
        <select class="custom-select" name="esrb">
          <option <%=game.esrb === "Rating Pending" ? "selected" : "" %> >Rating Pending</option>
          <option <%=game.esrb === "Everyone" ? "selected" : "" %> >Everyone</option>
          <option <%=game.esrb === "Everyone 10+" ? "selected" : "" %> >Everyone 10+</option>
          <option <%=game.esrb === "Teen" ? "selected" : "" %> >Teen</option>
          <option <%=game.esrb === "Mature 17+" ? "selected" : "" %> >Mature 17+</option>
          <option <%=game.esrb === "Adults Only 18+" ? "selected" : "" %> >Adults Only 18+</option>
        </select>
      </div>

      <div class="col">
        <label for="metacritic">Metacritic Score</label>
        <input class="form-control" type="number" value="<%= game.metacritic %>" min="0" max="100" name="metacritic">
      </div>

      <div class="col">
        <label for="releaseDate">Release Date</label>
        <input type="date" class="form-control" name="releaseDate" placeholder="2021/01/13" value="<%= game.releaseDate.toISOString().split('T')[0] %>" autofocus>
      </div>
    </div>
    <button type="submit" class="mt-3 btn btn-success">Submit</button>
  </form>
</div>

<%- include("partials/footer") %>
